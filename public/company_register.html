<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="company_register.css">
    
</head>
<body>
    <div class="container">
        <div class="logo">
            <svg class="brain-icon" viewBox="0 0 24 24">
                <path d="M12 3C7.58 3 4 6.58 4 11c0 2.65 1.33 4.98 3.35 6.37C7.13 17.7 7 18.08 7 18.5c0 1.38 1.12 2.5 2.5 2.5.42 0 .8-.13 1.13-.35C12.02 22.67 14.35 24 17 24c4.42 0 8-3.58 8-8 0-2.65-1.33-4.98-3.35-6.37C21.87 9.3 22 8.92 22 8.5 22 7.12 20.88 6 19.5 6c-.42 0-.8.13-1.13.35C16.98 4.33 14.65 3 12 3zm0 2c1.66 0 3 1.34 3 3 0 1.66-1.34 3-3 3s-3-1.34-3-3c0-1.66 1.34-3 3-3zm7.5 3c.83 0 1.5.67 1.5 1.5S20.33 11 19.5 11 18 10.33 18 9.5 18.67 8 19.5 8zM12 13c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zM4.5 16c-.83 0-1.5-.67-1.5-1.5S3.67 13 4.5 13s1.5.67 1.5 1.5S5.33 16 4.5 16z"/>
            </svg>
            TruthIQ
        </div>

        <div class="progress-bar">
            <div class="progress" style="width: 25%"></div>
        </div>

        <form id="registrationForm">
            <!-- Company Information -->
            <div class="form-section active" id="section1">
                <h2 class="section-title">Company Information</h2>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="companyName">Company Name *</label>
                        <input type="text" id="companyName" required>
                    </div>

                    <div class="form-group">
                        <label for="tradingName">Trading Name (if different)</label>
                        <input type="text" id="tradingName">
                    </div>

                    <div class="form-group">
                        <label for="regNumber">Registration Number *</label>
                        <input type="text" id="regNumber" required>
                    </div>

                    <div class="form-group">
                        <label for="taxId">Tax ID/VAT Number</label>
                        <input type="text" id="taxId">
                    </div>

                    <div class="form-group">
                        <label for="industry">Industry *</label>
                        <select id="industry" required>
                            <option value="">Select Industry</option>
                            <option value="technology">Technology</option>
                            <option value="manufacturing">Manufacturing</option>
                            <option value="retail">Retail</option>
                            <option value="healthcare">Healthcare</option>
                            <option value="finance">Finance</option>
                            <option value="other">Other</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="companySize">Company Size *</label>
                        <select id="companySize" required>
                            <option value="">Select Size</option>
                            <option value="1-10">1-10 employees</option>
                            <option value="11-50">11-50 employees</option>
                            <option value="51-200">51-200 employees</option>
                            <option value="201-500">201-500 employees</option>
                            <option value="500+">500+ employees</option>
                        </select>
                    </div>

                    <div class="form-group full-width">
                        <label for="description">Company Description *</label>
                        <textarea id="description" required></textarea>
                    </div>
                </div>

                <div class="btn-group">
                    <button type="button" class="btn" onclick="nextSection(1)">Next</button>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="form-section" id="section2">
                <h2 class="section-title">Contact Information</h2>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="contactName">Primary Contact Name *</label>
                        <input type="text" id="contactName" required>
                    </div>

                    <div class="form-group">
                        <label for="jobTitle">Job Title *</label>
                        <input type="text" id="jobTitle" required>
                    </div>

                    <div class="form-group">
                        <label for="email">Business Email *</label>
                        <input type="email" id="email" required>
                    </div>

                    <div class="form-group">
                        <label for="phone">Phone Number *</label>
                        <input type="tel" id="phone" required>
                    </div>

                    <div class="form-group full-width">
                        <label for="address">Registered Address *</label>
                        <textarea id="address" required></textarea>
                    </div>
                </div>

                <div class="btn-group">
                    <button type="button" class="btn secondary" onclick="prevSection(2)">Previous</button>
                    <button type="button" class="btn" onclick="nextSection(2)">Next</button>
                </div>
            </div>

            <!-- Business Details -->
            <div class="form-section" id="section3">
                <h2 class="section-title">Business Details</h2>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="website">Company Website</label>
                        <input type="url" id="website">
                    </div>

                    <div class="form-group">
                        <label for="founded">Year Founded *</label>
                        <input type="number" id="founded" required min="1900" max="2025">
                    </div>

                    <div class="form-group">
                        <label for="employees">Number of Employees *</label>
                        <input type="number" id="employees" required>
                    </div>

                    <div class="form-group">
                        <label for="revenue">Annual Revenue Range</label>
                        <select id="revenue">
                            <option value="">Select Range</option>
                            <option value="<1M">Less than $1M</option>
                            <option value="1M-5M">$1M - $5M</option>
                            <option value="5M-20M">$5M - $20M</option>
                            <option value="20M-100M">$20M - $100M</option>
                            <option value=">100M">More than $100M</option>
                        </select>
                    </div>

                    <div class="form-group full-width">
                        <label>Company Documents</label>
                        <div class="file-upload">
                            <div class="upload-btn">Upload Business Registration</div>
                            <input type="file" accept=".pdf,.doc,.docx">
                        </div>
                    </div>
                </div>

                <div class="btn-group">
                    <button type="button" class="btn secondary" onclick="prevSection(3)">Previous</button>
                    <button type="button" class="btn" onclick="nextSection(3)">Next</button>
                </div>
            </div>

            <!-- Account Setup -->
            <div class="form-section" id="section4">
                <h2 class="section-title">Account Setup</h2>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="username">Username *</label>
                        <input type="text" id="username" required>
                    </div>
        
                    <div class="form-group">
                        <label for="password">Password *</label>
                        <input type="password" id="password" required>
                        <div class="password-strength-meter">
                            <div id="strength-meter"></div>
                        </div>
                        <div class="password-requirements">
                            <div class="requirement" id="req-length">At least 8 characters</div>
                            <div class="requirement" id="req-uppercase">At least 1 uppercase letter</div>
                            <div class="requirement" id="req-lowercase">At least 1 lowercase letter</div>
                            <div class="requirement" id="req-number">At least 1 number</div>
                            <div class="requirement" id="req-special">At least 1 special character</div>
                        </div>
                        <div class="error-message">Please meet all password requirements</div>
                    </div>
        
                    <div class="form-group">
                        <label for="confirmPassword">Confirm Password *</label>
                        <input type="password" id="confirmPassword" required>
                        <div class="error-message">Passwords do not match</div>
                    </div>

                    <div class="form-group">
                        <label for="timezone">Timezone *</label>
                        <select id="timezone" required>
                            <option value="">Select Timezone</option>
                            <option value="UTC-8">Pacific Time (PT)</option>
                            <option value="UTC-7">Mountain Time (MT)</option>
                            <option value="UTC-6">Central Time (CT)</option>
                            <option value="UTC-5">Eastern Time (ET)</option>
                            <option value="UTC+0">Greenwich Mean Time (GMT)</option>
                            <option value="UTC+1">Central European Time (CET)</option>
                            <option value="UTC+8">China Standard Time (CST)</option>
                        </select>
                    </div>

                    <div class="form-group full-width">
                        <label class="checkbox-label">
                            <input type="checkbox" id="terms" required>
                            I agree to the Terms of Service and Privacy Policy
                        </label>
                    </div>
                </div>

                <div class="btn-group">
                    <button type="button" class="btn secondary" onclick="prevSection(4)">Previous</button>
                    <button type="submit" class="btn">Complete Registration</button>
                </div>
            </div>
        </form>
    </div>

    <script>
        let currentSection = 1;
        const totalSections = 4;

        function updateProgress() {
            const progress = (currentSection / totalSections) * 100;
            document.querySelector('.progress').style.width = `${progress}%`;
        }

        function showSection(sectionNumber) {
            document.querySelectorAll('.form-section').forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById(`section${sectionNumber}`).classList.add('active');
            updateProgress();
        }

        function validateSection(sectionNumber) {
            const currentSection = document.getElementById(`section${sectionNumber}`);
            const requiredFields = currentSection.querySelectorAll('[required]');
            let isValid = true;

            requiredFields.forEach(field => {
                if (!field.value.trim()) {
                    isValid = false;
                    field.classList.add('error');
                    const errorMessage = field.parentElement.querySelector('.error-message');
                    if (errorMessage) {
                        errorMessage.style.display = 'block';
                    }
                } else {
                    field.classList.remove('error');
                    const errorMessage = field.parentElement.querySelector('.error-message');
                    if (errorMessage) {
                        errorMessage.style.display = 'none';
                    }
                }
            });

            // Additional validation for specific fields
            if (sectionNumber === 4) {
                const password = document.getElementById('password').value;
                const confirmPassword = document.getElementById('confirmPassword').value;
                
                if (password !== confirmPassword) {
                    isValid = false;
                    document.getElementById('confirmPassword').classList.add('error');
                    document.querySelector('#confirmPassword + .error-message').style.display = 'block';
                }

                if (password.length < 8 || !/\d/.test(password) || !/[!@#$%^&*]/.test(password)) {
                    isValid = false;
                    document.getElementById('password').classList.add('error');
                    document.querySelector('#password + .error-message').style.display = 'block';
                }
            }

            return isValid;
        }

        function nextSection(currentSectionNumber) {
            if (validateSection(currentSectionNumber)) {
                if (currentSectionNumber < totalSections) {
                    currentSection = currentSectionNumber + 1;
                    showSection(currentSection);
                }
            }
        }

        function prevSection(currentSectionNumber) {
            if (currentSectionNumber > 1) {
                currentSection = currentSectionNumber - 1;
                showSection(currentSection);
            }
        }

        // Form submission handler
        document.getElementById('registrationForm').addEventListener('submit', function(e) {
            e.preventDefault();
            if (validateSection(currentSection)) {
                // Collect all form data
                const formData = {
                    companyInfo: {
                        name: document.getElementById('companyName').value,
                        tradingName: document.getElementById('tradingName').value,
                        regNumber: document.getElementById('regNumber').value,
                        taxId: document.getElementById('taxId').value,
                        industry: document.getElementById('industry').value,
                        size: document.getElementById('companySize').value,
                        description: document.getElementById('description').value
                    },
                    contactInfo: {
                        name: document.getElementById('contactName').value,
                        jobTitle: document.getElementById('jobTitle').value,
                        email: document.getElementById('email').value,
                        phone: document.getElementById('phone').value,
                        address: document.getElementById('address').value
                    },
                    businessDetails: {
                        website: document.getElementById('website').value,
                        founded: document.getElementById('founded').value,
                        employees: document.getElementById('employees').value,
                        revenue: document.getElementById('revenue').value
                    },
                    accountSetup: {
                        username: document.getElementById('username').value,
                        timezone: document.getElementById('timezone').value
                    }
                };

                // Here you would typically send the data to your server
                console.log('Registration Data:', formData);
                alert('Registration successful! You will receive a confirmation email shortly.');
            }
        });

        // File upload handler
        document.querySelector('input[type="file"]').addEventListener('change', function(e) {
            const fileName = e.target.files[0]?.name;
            if (fileName) {
                const uploadBtn = e.target.previousElementSibling;
                uploadBtn.textContent = `Selected: ${fileName}`;
            }
        });

        // Initialize form
        showSection(1);
        function checkPasswordStrength(password) {
            let strength = 0;
            const requirements = {
                length: password.length >= 8,
                uppercase: /[A-Z]/.test(password),
                lowercase: /[a-z]/.test(password),
                number: /\d/.test(password),
                special: /[!@#$%^&*(),.?":{}|<>]/.test(password)
            };

            // Update requirement indicators
            document.getElementById('req-length').className = 
                `requirement ${requirements.length ? 'met' : 'unmet'}`;
            document.getElementById('req-uppercase').className = 
                `requirement ${requirements.uppercase ? 'met' : 'unmet'}`;
            document.getElementById('req-lowercase').className = 
                `requirement ${requirements.lowercase ? 'met' : 'unmet'}`;
            document.getElementById('req-number').className = 
                `requirement ${requirements.number ? 'met' : 'unmet'}`;
            document.getElementById('req-special').className = 
                `requirement ${requirements.special ? 'met' : 'unmet'}`;

            // Calculate strength
            strength += requirements.length ? 20 : 0;
            strength += requirements.uppercase ? 20 : 0;
            strength += requirements.lowercase ? 20 : 0;
            strength += requirements.number ? 20 : 0;
            strength += requirements.special ? 20 : 0;

            // Update strength meter
            const meter = document.getElementById('strength-meter');
            meter.style.width = `${strength}%`;
            meter.className = '';
            if (strength < 40) {
                meter.classList.add('strength-weak');
            } else if (strength < 80) {
                meter.classList.add('strength-medium');
            } else {
                meter.classList.add('strength-strong');
            }

            return Object.values(requirements).every(req => req);
        }

        function validatePasswords() {
            const password = document.getElementById('password');
            const confirmPassword = document.getElementById('confirmPassword');
            const passwordError = password.nextElementSibling.nextElementSibling.nextElementSibling;
            const confirmError = confirmPassword.nextElementSibling;

            const isStrong = checkPasswordStrength(password.value);
            const isMatching = password.value === confirmPassword.value;

            passwordError.style.display = isStrong ? 'none' : 'block';
            confirmError.style.display = isMatching ? 'none' : 'block';

            return isStrong && isMatching;
        }

        // Add event listeners for password fields
        document.getElementById('password').addEventListener('input', function() {
            checkPasswordStrength(this.value);
            if (document.getElementById('confirmPassword').value) {
                validatePasswords();
            }
        });

        document.getElementById('confirmPassword').addEventListener('input', validatePasswords);

        // Update the validateSection function to include password validation
        function validateSection(sectionNumber) {
            const currentSection = document.getElementById(`section${sectionNumber}`);
            const requiredFields = currentSection.querySelectorAll('[required]');
            let isValid = true;

            requiredFields.forEach(field => {
                if (!field.value.trim()) {
                    isValid = false;
                    field.classList.add('error');
                    const errorMessage = field.parentElement.querySelector('.error-message');
                    if (errorMessage) {
                        errorMessage.style.display = 'block';
                    }
                } else {
                    field.classList.remove('error');
                    const errorMessage = field.parentElement.querySelector('.error-message');
                    if (errorMessage) {
                        errorMessage.style.display = 'none';
                    }
                }
            });

            // Additional validation for specific fields
            if (sectionNumber === 4) {
                isValid = validatePasswords() && isValid;
            }

            return isValid;
        }

        // Initialize form
        showSection(1);
    </script>
</body>
</html>